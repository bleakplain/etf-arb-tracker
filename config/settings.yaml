# ETF涨停监控系统配置文件

# 策略参数配置
strategy:
  # 扫描间隔（秒）- 控制后端监控扫描频率，防止请求过于频繁被封禁
  scan_interval: 120

  # ETF中最小持仓权重（1%）
  min_weight: 0.01

  # 最小封单量（亿元）
  min_order_amount: 10

  # 距收盘最小时间（秒，30分钟=1800秒）
  min_time_to_close: 1800

  # ETF最小日成交额（万元）
  min_etf_volume: 5000

  # 最大持仓数量（控制风险）
  max_positions: 5

# 监控时间配置
trading_hours:
  morning:
    start: "09:30"
    end: "11:30"
  afternoon:
    start: "13:00"
    end: "15:00"

# 数据源配置
data_sources:
  # 免费高频数据源（实时行情）
  tencent:
    enabled: true
    priority: 1
    description: "腾讯财经API，完全免费，支持批量查询（每次最多100只）"
    # 请求间隔（秒）- 防止请求过快被封禁
    request_interval: 5
    # 批量大小
    batch_size: 100

  eastmoney:
    enabled: true
    priority: 1
    description: "东方财富API，用于获取涨停股列表"
    # 请求间隔（秒）
    request_interval: 5

  # 付费低频数据源（财务数据、历史数据）
  tushare:
    enabled: false
    priority: 10
    token: "9baaa340c9eab5557513572741005eb35c07b52687093a1fa99ac956"
    description: "Tushare专业版，需要token，支持财务数据、历史数据"

  # ETF持仓数据源
  holdings:
    - name: "eastmoney"
      url: "http://fund.eastmoney.com"

# 刷新频率配置（防封禁）
refresh:
  # 后端行情数据缓存刷新间隔（秒）- 降低刷新频率避免API限流
  backend_cache_interval: 30
  # 后端行情数据缓存有效期（秒）
  backend_cache_ttl: 60
  # 前端页面刷新间隔（秒）
  frontend_refresh_interval: 10

# 常用股票代码列表（用于数据源查询）
# 如果数据源需要指定代码列表，将使用此列表
common_stocks:
  - code: "600519"
    name: "贵州茅台"
  - code: "000001"
    name: "平安银行"
  - code: "600036"
    name: "招商银行"
  - code: "601318"
    name: "中国平安"
  - code: "300750"
    name: "宁德时代"
  - code: "510300"
    name: "沪深300ETF"
  - code: "510500"
    name: "中证500ETF"
  - code: "159915"
    name: "创业板ETF"

# 消息通知配置
notification:
  # 是否启用通知
  enabled: true

  # 钉钉机器人配置
  dingtalk:
    enabled: false
    webhook: ""
    secret: ""

  # 邮件配置
  email:
    enabled: false
    smtp_server: "smtp.qq.com"
    smtp_port: 465
    sender: ""
    password: ""
    receivers: []

  # 企业微信配置
  wechat_work:
    enabled: false
    webhook: ""

# 日志配置
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  file: "logs/monitor.log"
  rotation: "100 MB"
  retention: "30 days"

# 数据库配置
database:
  path: "data/monitor.db"

# 风控配置
risk_control:
  # 单次最大买入金额（万元）
  max_buy_amount: 50

  # 止盈点（%）
  take_profit: 3

  # 止损点（%）
  stop_loss: -2

  # 持仓天数上限
  max_hold_days: 3

# 信号评估配置
signal_evaluation:
  # 置信度评估 - 权重阈值
  confidence_high_weight: 0.10      # 权重>=10%为高置信度
  confidence_low_weight: 0.05       # 权重<5%为低置信度

  # 置信度评估 - 排名阈值
  confidence_high_rank: 3           # 排名<=3为高置信度
  confidence_low_rank: 10           # 排名>10为低置信度

  # 风险评估 - 时间阈值（秒）
  risk_high_time_seconds: 600       # 距收盘<10分钟为高风险
  risk_low_time_seconds: 3600       # 距收盘>1小时为低风险

  # 风险评估 - 持仓集中度阈值
  risk_top10_ratio_high: 0.70       # 前10占比>70%为高风险

  # 风险评估 - 时间因素（小时）
  risk_morning_hour: 10             # 10点前涨停风险降低
